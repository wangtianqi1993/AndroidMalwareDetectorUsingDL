# !/usr/bin/env python
# -*- coding:utf-8 -*-
__author__ = 'wtq'

import os
import chardet

dir_path = os.path.dirname(__file__)
data_path1 = os.path.abspath(os.path.join(dir_path, "data", "paper_data_set", "data1_result.txt"))
data_path2 = os.path.abspath(os.path.join(dir_path, "data", "paper_data_set", "data2_result.txt"))

sub_former = "mod"
with open(data_path1, "r") as f:
    # 在data set 1 训练样本中
    i = 0
    j = 0
    for line in f:
        i += 1
        if i == 7:
            j += 1
            i = 1
        lines = line.split("，")
        tp = float(lines[0].split("：")[-1])
        fn = float(lines[1].split("：")[-1])
        fp = float(lines[2].split("：")[-1])
        tn = float(lines[3].split("：")[-1])
        recall = tp/(tp+fn)
        pre = tp/(tp+fp)
        print sub_former + str(j+1) + " weight" + str(i) + " recall ", recall
        print sub_former + str(j+1) + " weight" + str(i) +  " f1 ", (2*recall*pre)/(recall+pre)
        # print chardet.detect(line)
print "**********************************"

with open(data_path2, "r") as f:
    # 在data set2训练集中
    i = 0
    j = 0
    for line in f:
        i += 1
        if i == 7:
            j += 1
            i = 1
        lines = line.split("，")
        # print lines
        tp = float(lines[0].split("：")[-1])
        fn = float(lines[1].split("：")[-1])
        fp = float(lines[2].split("：")[-1])
        tn = float(lines[3].split("：")[-1])
        recall = tp/(tp+fn)
        pre = tp/(tp+fp)
        print sub_former + str(j+1) + " weight" + str(i) + " recall ", recall
        print sub_former + str(j+1) + " weight" + str(i) +  " f1 ", (2*recall*pre)/(recall+pre)
