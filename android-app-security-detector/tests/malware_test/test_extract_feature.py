# !/usr/bin/env python
# -*- coding: utf-8 -*-
__author__ = 'wtq'

from detector.config import MALWARE_FEATURE
from detector.logger import DetectorLogger
from detector.malware.train.feature import scan_file
from detector.malware.train.feature import check

logger = DetectorLogger()


def test_extract_feature():
    """
    the function is testing extract_feature in malware_test
    :return:
    """
    word_dict = {}
    word_sum = 0
    word_dict = scan_file("resource/src", word_dict)
    logger.info(len(word_dict))
    logger.info(word_dict)
    check(MALWARE_FEATURE, word_dict)
    # calculate the sum of the frequency word of the app
    for word in word_dict.keys():
        word_sum += word_dict[word]
    logger.info('word frequency sum')
    logger.info(word_sum)


if __name__ == '__main__':
    test_extract_feature()
