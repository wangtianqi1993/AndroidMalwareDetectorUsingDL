// Decompiled by Jad v1.5.8e. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.geocities.com/kpdus/jad.html
// Decompiler options: packimports(3) 

package so.cuo.platform.admob;

import android.view.ViewGroup;
import android.widget.AbsoluteLayout;
import android.widget.RelativeLayout;
import com.adobe.fre.FREContext;
import com.google.ads.AdView;
import com.google.ads.InterstitialAd;
import java.util.HashMap;
import java.util.Map;
import so.cuo.platform.admob.fun.CacheInterstitial;
import so.cuo.platform.admob.fun.HideBanner;
import so.cuo.platform.admob.fun.InitBanner;
import so.cuo.platform.admob.fun.InitInterstitial;
import so.cuo.platform.admob.fun.IsInterstitialReady;
import so.cuo.platform.admob.fun.ShowBanner;
import so.cuo.platform.admob.fun.ShowBannerAbsolute;
import so.cuo.platform.admob.fun.ShowInterstitial;

public class AdmobContext extends FREContext
{

    public AdmobContext()
    {
    }

    public void dispose()
    {
        if(adView != null)
        {
            removeBanner();
            adView.setAdListener(null);
            adView.destroy();
            adView = null;
        }
        if(interstitial != null)
        {
            interstitial.stopLoading();
            interstitial.setAdListener(null);
            interstitial = null;
        }
    }

    public Map getFunctions()
    {
        HashMap hashmap = new HashMap();
        hashmap.put("admobInitInterstitial", new InitInterstitial());
        hashmap.put("admobCacheInterstitial", new CacheInterstitial());
        hashmap.put("admobIsInterstitialReady", new IsInterstitialReady());
        hashmap.put("admobShowInterstitial", new ShowInterstitial());
        hashmap.put("admobHideBanner", new HideBanner());
        hashmap.put("admobInitBanner", new InitBanner());
        hashmap.put("admobShowBanner", new ShowBanner());
        hashmap.put("admobShowBannerAbsolute", new ShowBannerAbsolute());
        return hashmap;
    }

    public void initialize()
    {
    }

    public void removeBanner()
    {
        if(adView != null)
        {
            adView.stopLoading();
            if(adView.getParent() != null)
            {
                if(relativeLayout != null)
                    relativeLayout.removeView(adView);
                if(absoluteLayout != null)
                    absoluteLayout.removeView(adView);
            }
            if(relativeLayout != null && relativeLayout.getParent() != null && (relativeLayout.getParent() instanceof ViewGroup))
                ((ViewGroup)relativeLayout.getParent()).removeView(relativeLayout);
            if(absoluteLayout != null && absoluteLayout.getParent() != null && (absoluteLayout.getParent() instanceof ViewGroup))
            {
                ((ViewGroup)absoluteLayout.getParent()).removeView(absoluteLayout);
                return;
            }
        }
    }

    public AbsoluteLayout absoluteLayout;
    public AdView adView;
    public InterstitialAd interstitial;
    public RelativeLayout relativeLayout;
}
