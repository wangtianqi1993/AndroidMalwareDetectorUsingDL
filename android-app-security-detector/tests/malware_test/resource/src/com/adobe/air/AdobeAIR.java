// Decompiled by Jad v1.5.8e. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.geocities.com/kpdus/jad.html
// Decompiler options: packimports(3) 

package com.adobe.air;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.webkit.*;
import java.io.File;

public class AdobeAIR extends Activity
{

    public AdobeAIR()
    {
        mWebView = null;
        mAuxWebView = null;
        mOffline = false;
        mFirstLoad = true;
    }

    public void onBackPressed()
    {
        if(android.os.Build.VERSION.SDK_INT >= 12 && mWebView.canGoBack())
        {
            WebBackForwardList webbackforwardlist = mWebView.copyBackForwardList();
            int i = webbackforwardlist.getCurrentIndex();
            boolean flag;
            if(i > 0 && "http://www.adobe.com/airgames/".equals(webbackforwardlist.getItemAtIndex(i - 1).getUrl()))
                flag = false;
            else
                flag = true;
            if(flag)
            {
                mWebView.goBack();
                return;
            }
        }
        super.onBackPressed();
    }

    public void onCreate(Bundle bundle)
    {
        super.onCreate(bundle);
        bundle = new WebViewClient() {

            public void onPageFinished(WebView webview, String s)
            {
                if(mFirstLoad && !s.equals("http://www.adobe.com/airgames/"))
                {
                    mFirstLoad = false;
                    setContentView(mWebView);
                }
            }

            public void onReceivedError(WebView webview, int i, String s, String s1)
            {
                mOffline = true;
                mWebView.loadUrl("file:///android_res/raw/startga.html");
            }

            public boolean shouldOverrideUrlLoading(WebView webview, String s)
            {
                if(s == null)
                    break MISSING_BLOCK_LABEL_232;
                webview = Uri.parse(s);
                boolean flag1 = s.equals("http://www.adobe.com/airgames/");
                if(AdobeAIR.sRootServer == null && webview != null && !mOffline && !flag1)
                    AdobeAIR.sRootServer = webview.getHost();
                if(!mOffline && webview != null && webview.getScheme() != null && (webview.getScheme().equalsIgnoreCase("http") || webview.getScheme().equalsIgnoreCase("https")) && (AdobeAIR.sRootServer == null || AdobeAIR.sRootServer.equals(webview.getHost()) || flag1))
                    return false;
                if(webview == null)
                    break MISSING_BLOCK_LABEL_239;
                if(webview.getScheme() == null)
                    break MISSING_BLOCK_LABEL_239;
                boolean flag;
                if(webview.getScheme().equalsIgnoreCase("http") || webview.getScheme().equalsIgnoreCase("https"))
                {
                    if(!webview.getHost().equalsIgnoreCase("www.adobe.com") && !webview.getHost().equalsIgnoreCase("play.google.com"))
                        flag = false;
                    else
                        flag = true;
                } else
                {
                    flag = true;
                }
                if(flag)
                {
                    try
                    {
                        webview = new Intent("android.intent.action.VIEW", webview);
                        startActivity(webview);
                    }
                    // Misplaced declaration of an exception variable
                    catch(WebView webview) { }
                    break MISSING_BLOCK_LABEL_239;
                }
                mAuxWebView.loadUrl(s);
                break MISSING_BLOCK_LABEL_239;
                return false;
                return true;
            }

            final AdobeAIR this$0;

            
            {
                this$0 = AdobeAIR.this;
                super();
            }
        };
        mWebView = new WebView(this);
        mWebView.setScrollBarStyle(0);
        mWebView.setWebViewClient(bundle);
        mWebView.getSettings().setJavaScriptEnabled(true);
        mWebView.getSettings().setBuiltInZoomControls(true);
        mWebView.getSettings().setDomStorageEnabled(true);
        mWebView.getSettings().setDatabaseEnabled(true);
        mWebView.getSettings().setDatabasePath((new StringBuilder()).append(getApplicationContext().getFilesDir().getPath()).append("/databases/").toString());
        mAuxWebView = new WebView(this);
        mAuxWebView.getSettings().setJavaScriptEnabled(true);
        mAuxWebView.getSettings().setDomStorageEnabled(true);
        mAuxWebView.getSettings().setDatabaseEnabled(true);
        mAuxWebView.getSettings().setDatabasePath((new StringBuilder()).append(getApplicationContext().getFilesDir().getPath()).append("/databases/").toString());
        mWebView.loadUrl("http://www.adobe.com/airgames/");
    }

    public void onResume()
    {
        super.onResume();
        if(mOffline)
        {
            mOffline = false;
            mWebView.loadUrl("http://www.adobe.com/airgames/");
        }
    }

    private static final String ADOBE_HOST = "www.adobe.com";
    private static final String DYNAMIC_URL = "http://www.adobe.com/airgames/";
    private static final String GOOGLE_PLAY_HOST = "play.google.com";
    private static final String STATIC_URL = "file:///android_res/raw/startga.html";
    private static String sRootServer = null;
    private WebView mAuxWebView;
    private boolean mFirstLoad;
    private boolean mOffline;
    private WebView mWebView;




/*
    static String access$002(String s)
    {
        sRootServer = s;
        return s;
    }

*/



/*
    static boolean access$102(AdobeAIR adobeair, boolean flag)
    {
        adobeair.mOffline = flag;
        return flag;
    }

*/




/*
    static boolean access$302(AdobeAIR adobeair, boolean flag)
    {
        adobeair.mFirstLoad = flag;
        return flag;
    }

*/

}
